<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.db.app.qna.QnaMapper">
	  <select id="getList" resultType="QnaVO" parameterType="Pager">
	  	SELECT * 
	  	FROM QNA
	  	<where>
		  	<if test="kind == 'k1'">
		  		BOARD_WRITER LIKE CONCAT('%',#{search},'%')
		  	</if>
		  	<if test="kind == 'k2'">
		  		BOARD_CONTENTS LIKE CONCAT('%',#{search},'%')
		  	</if>
		  	<if test="kind == 'k3'">
		  		BOARD_TITLE LIKE CONCAT('%',#{search},'%')
		  	</if>
	  	</where>
	  	ORDER BY BOARD_NUM DESC
	  	LIMIT #{startRow}, #{perPage}
	  </select>
	  
	  <insert id="add" parameterType="QnaVO">
	  	INSERT INTO QNA
	  	VALUES (
	  	#{boardNum} , #{boardWriter},#{boardTitle},#{boardContents},NOW(),#{ref},0,0
	  	)
	  </insert>
  
  </mapper>